(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SanityClient = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function AssetsClient(e){this.client=e}function toPromise(e){return e.filter(function(e){return"response"===e.type}).map(function(e){return e.body}).toPromise()}function resolveWithDocument(e){var t=e.document;return Object.defineProperty(t,"document",{enumerable:!1,get:function(){return console.warn("The promise returned from client.asset.upload(...) now resolves with the asset document"),t}}),t}function optionsFromFile(e,t){return"undefined"!=typeof window&&t instanceof window.File?assign({filename:!1===e.preserveFilename?void 0:t.name,contentType:t.type},e):e}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),assign=require("object-assign"),queryString=require("../http/queryString"),validators=require("../validators");assign(AssetsClient.prototype,{upload:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};validators.validateAssetType(e);var r=n.extract||void 0;r&&!r.length&&(r=["none"]);var i=validators.hasDataset(this.client.clientConfig),o="image"===e?"images":"files",s=optionsFromFile(n,t),a=s.label,l=s.filename,u={label:a,filename:l,meta:r},c=this.client._requestObservable({method:"POST",timeout:s.timeout||0,uri:"/assets/"+o+"/"+i,headers:s.contentType?{"Content-Type":s.contentType}:{},query:u,body:t});return this.client.isPromiseAPI()?toPromise(c).then(resolveWithDocument):c},delete:function(e,t){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var n=t||"";return/^(image|file)-/.test(n)?e._id&&(n=e._id):n=e+"-"+n,validators.hasDataset(this.client.clientConfig),this.client.delete(n)},getImageUrl:function(e,t){var n=e._ref||e;if("string"!=typeof n)throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(n))throw new Error('Unsupported asset ID "'+n+'". URL generation only works for auto-generated IDs.');var r=n.split("-"),i=_slicedToArray(r,4),o=i[1],s=i[2],a=i[3];validators.hasDataset(this.client.clientConfig);var l=this.client.clientConfig;return"https://cdn.sanity.io/images/"+l.projectId+"/"+l.dataset+"/"+o+"-"+s+"."+a+(t?queryString(t):"")}}),module.exports=AssetsClient;

},{"../http/queryString":12,"../validators":21,"object-assign":43}],2:[function(require,module,exports){
"use strict";function AuthClient(t){this.client=t}var assign=require("object-assign");assign(AuthClient.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}}),module.exports=AuthClient;

},{"object-assign":43}],3:[function(require,module,exports){
"use strict";var generateHelpUrl=require("@sanity/generate-help-url"),assign=require("object-assign"),validate=require("./validators"),defaultCdnHost="apicdn.sanity.io",defaultConfig={apiHost:"https://api.sanity.io",useProjectHostname:!0,gradientMode:!1,isPromiseAPI:!0},cdnWarning=["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see "+generateHelpUrl("js-client-cdn-configuration")+".","To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."],printCdnWarning=function(){var e=!1;return function(){e||(console.warn(cdnWarning.join(" ")),e=!0)}}();exports.defaultConfig=defaultConfig,exports.initConfig=function(e,t){var n=assign({},defaultConfig,t,e),i=n.gradientMode,a=!i&&n.useProjectHostname;if("undefined"==typeof Promise){var r=generateHelpUrl("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see "+r)}if(i&&!n.namespace)throw new Error("Configuration must contain `namespace` when running in gradient mode");if(a&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(void 0===n.useCdn&&printCdnWarning(),a&&validate.projectId(n.projectId),!i&&n.dataset&&validate.dataset(n.dataset,n.gradientMode),n.isDefaultApi=n.apiHost===defaultConfig.apiHost,n.useCdn=Boolean(n.useCdn)&&!n.token&&!n.withCredentials,n.gradientMode)n.url=n.apiHost,n.cdnUrl=n.apiHost;else{var o=n.apiHost.split("://",2),s=o[0],d=o[1],l=n.isDefaultApi?defaultCdnHost:d;n.useProjectHostname?(n.url=s+"://"+n.projectId+"."+d+"/v1",n.cdnUrl=s+"://"+n.projectId+"."+l+"/v1"):(n.url=n.apiHost+"/v1",n.cdnUrl=n.url)}return n};
},{"./validators":21,"@sanity/generate-help-url":53,"object-assign":43}],4:[function(require,module,exports){
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var assign=require("object-assign"),validators=require("../validators"),getSelection=require("../util/getSelection"),encodeQueryString=require("./encodeQueryString"),Transaction=require("./transaction"),Patch=require("./patch"),listen=require("./listen"),excludeFalsey=function(e,t){var r=void 0===e?t:e;return!1===e?void 0:r},getMutationQuery=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{returnIds:!0,returnDocuments:excludeFalsey(e.returnDocuments,!0),visibility:e.visibility||"sync"}},isResponse=function(e){return"response"===e.type},getBody=function(e){return e.body},toPromise=function(e){return e.toPromise()},getQuerySizeLimit=11264;module.exports={listen:listen,getDataUrl:function(e,t){var r=this.clientConfig,n=r.gradientMode?r.namespace:validators.hasDataset(r),i="/"+e+"/"+n,u=t?i+"/"+t:i;return(this.clientConfig.gradientMode?u:"/data"+u).replace(/\/($|\?)/,"$1")},fetch:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1===r.filterResponse?function(e){return e}:function(e){return e.result},i=this._dataRequest("query",{query:e,params:t}).map(n);return this.isPromiseAPI()?toPromise(i):i},getDocument:function(e){var t={uri:this.getDataUrl("doc",e),json:!0},r=this._requestObservable(t).filter(isResponse).map(function(e){return e.body.documents&&e.body.documents[0]});return this.isPromiseAPI()?toPromise(r):r},create:function(e,t){return this._create(e,"create",t)},createIfNotExists:function(e,t){return validators.requireDocumentId("createIfNotExists",e),this._create(e,"createIfNotExists",t)},createOrReplace:function(e,t){return validators.requireDocumentId("createOrReplace",e),this._create(e,"createOrReplace",t)},patch:function(e,t){return new Patch(e,t,this)},delete:function(e,t){return this.dataRequest("mutate",{mutations:[{delete:getSelection(e)}]},t)},mutate:function(e,t){var r=e instanceof Patch?e.serialize():e,n=Array.isArray(r)?r:[r];return this.dataRequest("mutate",{mutations:n},t)},transaction:function(e){return new Transaction(e,this)},dataRequest:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._dataRequest(e,t,r);return this.isPromiseAPI()?toPromise(n):n},_dataRequest:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="mutate"===e,i=!n&&encodeQueryString(t),u=!n&&i.length<getQuerySizeLimit,a=u?i:"",s=r.returnFirst,o=this.getDataUrl(e,a),c={method:u?"GET":"POST",uri:o,json:!0,body:u?void 0:t,query:n&&getMutationQuery(r)};return this._requestObservable(c).filter(isResponse).map(getBody).map(function(e){if(!n)return e;var t=e.results||[];if(r.returnDocuments)return s?t[0]&&t[0].document:t.map(function(e){return e.document});var i=s?"documentId":"documentIds",u=s?t[0]&&t[0].id:t.map(function(e){return e.id});return _defineProperty({transactionId:e.transactionId,results:t},i,u)})},_create:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=_defineProperty({},t,e),i=assign({returnFirst:!0,returnDocuments:!0},r);return this.dataRequest("mutate",{mutations:[n]},i)}};

},{"../util/getSelection":19,"../validators":21,"./encodeQueryString":5,"./listen":6,"./patch":7,"./transaction":8,"object-assign":43}],5:[function(require,module,exports){
"use strict";var enc=encodeURIComponent;module.exports=function(e){var n=e.query,r=e.params,c=void 0===r?{}:r,t=e.options,o=void 0===t?{}:t,u="?query="+enc(n),i=Object.keys(c).reduce(function(e,n){return e+"&"+enc("$"+n)+"="+enc(JSON.stringify(c[n]))},u);return Object.keys(o).reduce(function(e,n){return o[n]?e+"&"+enc(n)+"="+enc(o[n]):e},i)};

},{}],6:[function(require,module,exports){
"use strict";function parseEvent(e){try{var r=e.data&&JSON.parse(e.data)||{};return assign({type:e.type},r)}catch(e){return e}}function cooerceError(e){if(e instanceof Error)return e;var r=parseEvent(e);return r instanceof Error?r:new Error(extractErrorMessage(r))}function extractErrorMessage(e){return e.error?e.error.description?e.error.description:"string"==typeof e.error?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var assign=require("object-assign"),Observable=require("@sanity/observable/minimal"),encodeQueryString=require("./encodeQueryString"),pick=require("../util/pick"),defaults=require("../util/defaults"),EventSource="undefined"!=typeof window&&window.EventSource?window.EventSource:require("@sanity/eventsource"),possibleOptions=["includePreviousRevision","includeResult"],defaultOptions={includeResult:!0};module.exports=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=defaults(n,defaultOptions),o=pick(t,possibleOptions),i=encodeQueryString({query:e,params:r,options:o}),s=this.clientConfig,c=s.url,u=s.token,a=s.withCredentials,d=""+c+this.getDataUrl("listen",i),v=t.events?t.events:["mutation"],l=-1!==v.indexOf("reconnect"),E={};return(u||a)&&(E.withCredentials=!0),u&&(E.headers={Authorization:"Bearer "+u}),new Observable(function(e){function r(){c.readyState===EventSource.CLOSED?e.complete():c.readyState===EventSource.CONNECTING&&s()}function n(r){e.error(cooerceError(r))}function t(r){var n=parseEvent(r);return n instanceof Error?e.error(n):e.next(n)}function o(r){e.complete(),i()}function i(){v.forEach(function(e){return c.removeEventListener(e,t,!1)}),c.removeEventListener("error",r,!1),c.removeEventListener("channelError",n,!1),c.removeEventListener("disconnect",o,!1),c.close()}function s(){l&&e.next({type:"reconnect"})}var c=new EventSource(d,E);return c.addEventListener("error",r,!1),c.addEventListener("channelError",n,!1),c.addEventListener("disconnect",o,!1),v.forEach(function(e){return c.addEventListener(e,t,!1)}),i})};

},{"../util/defaults":18,"../util/pick":20,"./encodeQueryString":5,"@sanity/eventsource":51,"@sanity/observable/minimal":55,"object-assign":43}],7:[function(require,module,exports){
"use strict";function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Patch(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.selection=t,this.operations=assign({},e),this.client=i}var deepAssign=require("deep-assign"),assign=require("object-assign"),getSelection=require("../util/getSelection"),validate=require("../validators"),validateObject=validate.validateObject,validateInsert=validate.validateInsert;assign(Patch.prototype,{clone:function(){return new Patch(this.selection,assign({},this.operations),this.client)},merge:function(t){return validateObject("merge",t),this._assign("merge",deepAssign(this.operations.merge||{},t))},set:function(t){return this._assign("set",t)},diffMatchPatch:function(t){return validateObject("diffMatchPatch",t),this._assign("diffMatchPatch",t)},unset:function(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=assign({},this.operations,{unset:t}),this},setIfMissing:function(t){return this._assign("setIfMissing",t)},replace:function(t){return validateObject("replace",t),this._set("set",{$:t})},inc:function(t){return this._assign("inc",t)},dec:function(t){return this._assign("dec",t)},insert:function(t,e,i){var n;return validateInsert(t,e,i),this._assign("insert",(n={},_defineProperty(n,t,e),_defineProperty(n,"items",i),n))},append:function(t,e){return this.insert("after",t+"[-1]",e)},prepend:function(t,e){return this.insert("before",t+"[0]",e)},splice:function(t,e,i,n){var s=void 0===i||-1===i,r=e<0?e-1:e,a=s?-1:Math.max(0,e+i),o=r<0&&a>=0?"":a,c=t+"["+r+":"+o+"]";return this.insert("replace",c,n||[])},ifRevisionId:function(t){return this.operations.ifRevisionID=t,this},serialize:function(){return assign(getSelection(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var e="string"==typeof this.selection,i=assign({returnFirst:e,returnDocuments:!0},t);return this.client.mutate({patch:this.serialize()},i)},reset:function(){return this.operations={},this},_set:function(t,e){return this._assign(t,e,!1)},_assign:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return validateObject(t,e),this.operations=assign({},this.operations,_defineProperty({},t,assign({},i&&this.operations[t]||{},e))),this}}),module.exports=Patch;

},{"../util/getSelection":19,"../validators":21,"deep-assign":22,"object-assign":43}],8:[function(require,module,exports){
"use strict";function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Transaction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];this.operations=t,this.client=e}var assign=require("object-assign"),validators=require("../validators"),Patch=require("./patch"),defaultMutateOptions={returnDocuments:!1};assign(Transaction.prototype,{clone:function(){return new Transaction(this.operations.slice(0),this.client)},create:function(t){return validators.validateObject("create",t),this._add({create:t})},createIfNotExists:function(t){var e="createIfNotExists";return validators.validateObject(e,t),validators.requireDocumentId(e,t),this._add(_defineProperty({},e,t))},createOrReplace:function(t){var e="createOrReplace";return validators.validateObject(e,t),validators.requireDocumentId(e,t),this._add(_defineProperty({},e,t))},delete:function(t){return validators.validateDocumentId("delete",t),this._add({delete:{id:t}})},patch:function(t,e){var i="function"==typeof e;if(t instanceof Patch)return this._add({patch:t.serialize()});if(i){var r=e(new Patch(t,{},this.client));if(!(r instanceof Patch))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:r.serialize()})}return this._add({patch:assign({id:t},e)})},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(t){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),assign({},defaultMutateOptions,t||{}))},reset:function(){return this.operations=[],this},_add:function(t){return this.operations.push(t),this}}),module.exports=Transaction;

},{"../validators":21,"./patch":7,"object-assign":43}],9:[function(require,module,exports){
"use strict";function DatasetsClient(t){this.request=t.request.bind(t)}var assign=require("object-assign"),validate=require("../validators");assign(DatasetsClient.prototype,{create:function(t){return this._modify("PUT",t)},delete:function(t){return this._modify("DELETE",t)},list:function(){return this.request({uri:"/datasets"})},_modify:function(t,e){return validate.dataset(e),this.request({method:t,uri:"/datasets/"+e})}}),module.exports=DatasetsClient;

},{"../validators":21,"object-assign":43}],10:[function(require,module,exports){
"use strict";module.exports=[];

},{}],11:[function(require,module,exports){
"use strict";function ClientError(r){var e=extractErrorProps(r);ClientError.super.call(this,e.message),assign(this,e)}function ServerError(r){var e=extractErrorProps(r);ServerError.super.call(this,e.message),assign(this,e)}function extractErrorProps(r){var e=r.body,s={response:r,statusCode:r.statusCode,responseBody:stringifyBody(e,r)};return e.error&&e.message?(s.message=e.error+" - "+e.message,s):e.error&&e.error.description?(s.message=e.error.description,s.details=e.error,s):(s.message=e.error||e.message||httpErrorMessage(r),s)}function httpErrorMessage(r){var e=r.statusMessage?" "+r.statusMessage:"";return r.method+"-request to "+r.url+" resulted in HTTP "+r.statusCode+e}function stringifyBody(r,e){return-1!==(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(r,null,2):r}var makeError=require("make-error"),assign=require("object-assign");makeError(ClientError),makeError(ServerError),exports.ClientError=ClientError,exports.ServerError=ServerError;

},{"make-error":41,"object-assign":43}],12:[function(require,module,exports){
"use strict";module.exports=function(n){var e=[];for(var o in n)n.hasOwnProperty(o)&&e.push(encodeURIComponent(o)+"="+encodeURIComponent(n[o]));return e.length>0?"?"+e.join("&"):""};

},{}],13:[function(require,module,exports){
"use strict";function httpRequest(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:request)(assign({maxRedirects:0},e))}var getIt=require("get-it"),assign=require("object-assign"),observable=require("get-it/lib/middleware/observable"),jsonRequest=require("get-it/lib/middleware/jsonRequest"),jsonResponse=require("get-it/lib/middleware/jsonResponse"),SanityObservable=require("@sanity/observable/minimal"),progress=require("get-it/lib/middleware/progress"),_require=require("./errors"),ClientError=_require.ClientError,ServerError=_require.ServerError,httpError={onResponse:function(e){if(e.statusCode>=500)throw new ServerError(e);if(e.statusCode>=400)throw new ClientError(e);return e}},envSpecific=require("./nodeMiddleware"),middleware=envSpecific.concat([jsonRequest(),jsonResponse(),progress(),httpError,observable({implementation:SanityObservable})]),request=getIt(middleware);httpRequest.defaultRequester=request,httpRequest.ClientError=ClientError,httpRequest.ServerError=ServerError,module.exports=httpRequest;

},{"./errors":11,"./nodeMiddleware":10,"@sanity/observable/minimal":55,"get-it":24,"get-it/lib/middleware/jsonRequest":28,"get-it/lib/middleware/jsonResponse":29,"get-it/lib/middleware/observable":30,"get-it/lib/middleware/progress":32,"object-assign":43}],14:[function(require,module,exports){
"use strict";var projectHeader="X-Sanity-Project-ID";module.exports=function(e){var t={};return e.token&&(t.Authorization="Bearer "+e.token),!e.useProjectHostname&&e.projectId&&(t[projectHeader]=e.projectId),{headers:t,timeout:"timeout"in e?e.timeout:3e4,json:!0,withCredentials:Boolean(e.token||e.withCredentials)}};

},{}],15:[function(require,module,exports){
"use strict";function ProjectsClient(t){this.client=t}var assign=require("object-assign");assign(ProjectsClient.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(t){return this.client.request({uri:"/projects/"+t})}}),module.exports=ProjectsClient;

},{"object-assign":43}],16:[function(require,module,exports){
"use strict";function SanityClient(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultConfig;if(!(this instanceof SanityClient))return new SanityClient(t);if(this.config(t),this.assets=new AssetsClient(this),this.datasets=new DatasetsClient(this),this.projects=new ProjectsClient(this),this.users=new UsersClient(this),this.auth=new AuthClient(this),this.clientConfig.isPromiseAPI){var e=assign({},this.clientConfig,{isPromiseAPI:!1});this.observable=new SanityClient(e)}}function mergeOptions(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.reduce(function(t,e){return t||e.headers?assign(t||{},e.headers||{}):null},null);return assign.apply(void 0,e.concat([n?{headers:n}:{}]))}var assign=require("object-assign"),Patch=require("./data/patch"),Transaction=require("./data/transaction"),dataMethods=require("./data/dataMethods"),DatasetsClient=require("./datasets/datasetsClient"),ProjectsClient=require("./projects/projectsClient"),AssetsClient=require("./assets/assetsClient"),UsersClient=require("./users/usersClient"),AuthClient=require("./auth/authClient"),httpRequest=require("./http/request"),getRequestOptions=require("./http/requestOptions"),_require=require("./config"),defaultConfig=_require.defaultConfig,initConfig=_require.initConfig,toPromise=function(t){return t.toPromise()};assign(SanityClient.prototype,dataMethods),assign(SanityClient.prototype,{clone:function(){return new SanityClient(this.config())},config:function(t){if(void 0===t)return assign({},this.clientConfig);if(this.observable){var e=assign({},t,{isPromiseAPI:!1});this.observable.config(e)}return this.clientConfig=initConfig(t,this.clientConfig||{}),this},getUrl:function(t){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.clientConfig.cdnUrl:this.clientConfig.url)+"/"+t.replace(/^\//,"")},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(t){var e=t.url||t.uri,i=this.clientConfig.useCdn&&["GET","HEAD"].indexOf(t.method||"GET")>=0&&0===e.indexOf("/data/");return httpRequest(mergeOptions(getRequestOptions(this.clientConfig),t,{url:this.getUrl(e,i)}),this.clientConfig.requester)},request:function(t){var e=this._requestObservable(t).filter(function(t){return"response"===t.type}).map(function(t){return t.body});return this.isPromiseAPI()?toPromise(e):e}}),SanityClient.Patch=Patch,SanityClient.Transaction=Transaction,SanityClient.ClientError=httpRequest.ClientError,SanityClient.ServerError=httpRequest.ServerError,SanityClient.requester=httpRequest.defaultRequester,module.exports=SanityClient;
},{"./assets/assetsClient":1,"./auth/authClient":2,"./config":3,"./data/dataMethods":4,"./data/patch":7,"./data/transaction":8,"./datasets/datasetsClient":9,"./http/request":13,"./http/requestOptions":14,"./projects/projectsClient":15,"./users/usersClient":17,"object-assign":43}],17:[function(require,module,exports){
"use strict";function UsersClient(e){this.client=e}var assign=require("object-assign");assign(UsersClient.prototype,{getById:function(e){return this.client.request({uri:"/users/"+e})}}),module.exports=UsersClient;

},{"object-assign":43}],18:[function(require,module,exports){
"use strict";module.exports=function(e,t){return Object.keys(t).concat(Object.keys(e)).reduce(function(c,n){return c[n]=void 0===e[n]?t[n]:e[n],c},{})};

},{}],19:[function(require,module,exports){
"use strict";module.exports=function(r){if("string"==typeof r||Array.isArray(r))return{id:r};if(r&&r.query)return{query:r.query};var n=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error("Unknown selection - must be one of:\n\n"+n)};

},{}],20:[function(require,module,exports){
"use strict";module.exports=function(e,r){return r.reduce(function(r,t){return void 0===e[t]?r:(r[t]=e[t],r)},{})};
},{}],21:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VALID_ASSET_TYPES=["image","file"],VALID_INSERT_LOCATIONS=["before","after","replace"];exports.dataset=function(t){if(!/^[-\w]{1,128}$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes")},exports.projectId=function(t){if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},exports.validateAssetType=function(t){if(-1===VALID_ASSET_TYPES.indexOf(t))throw new Error("Invalid asset type: "+t+". Must be one of "+VALID_ASSET_TYPES.join(", "))},exports.validateObject=function(t,e){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e))||Array.isArray(e))throw new Error(t+"() takes an object of properties")},exports.requireDocumentId=function(t,e){if(!e._id)throw new Error(t+'() requires that the document contains an ID ("_id" property)');exports.validateDocumentId(t,e._id)},exports.validateDocumentId=function(t,e){if("string"!=typeof e||!/^[a-z0-9_.-]+$/i.test(e))throw new Error(t+'(): "'+e+'" is not a valid document ID')},exports.validateInsert=function(t,e,r){var o="insert(at, selector, items)";if(-1===VALID_INSERT_LOCATIONS.indexOf(t)){var n=VALID_INSERT_LOCATIONS.map(function(t){return'"'+t+'"'}).join(", ");throw new Error(o+' takes an "at"-argument which is one of: '+n)}if("string"!=typeof e)throw new Error(o+' takes a "selector"-argument which must be a string');if(!Array.isArray(r))throw new Error(o+' takes an "items"-argument which must be an array')},exports.hasDataset=function(t){if(!t.gradientMode&&!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""};
},{}],22:[function(require,module,exports){
"use strict";function toObject(r){if(null===r||void 0===r)throw new TypeError("Sources cannot be null or undefined");return Object(r)}function assignKey(r,e,n){var t=e[n];if(void 0!==t&&null!==t){if(hasOwnProperty.call(r,n)&&(void 0===r[n]||null===r[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");hasOwnProperty.call(r,n)&&isObj(t)?r[n]=assign(Object(r[n]),e[n]):r[n]=t}}function assign(r,e){if(r===e)return r;e=Object(e);for(var n in e)hasOwnProperty.call(e,n)&&assignKey(r,e,n);if(Object.getOwnPropertySymbols)for(var t=Object.getOwnPropertySymbols(e),o=0;o<t.length;o++)propIsEnumerable.call(e,t[o])&&assignKey(r,e,t[o]);return r}var isObj=require("is-obj"),hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(r){r=toObject(r);for(var e=1;e<arguments.length;e++)assign(r,arguments[e]);return r};

},{"is-obj":38}],23:[function(require,module,exports){
function forEach(r,t,o){if(!isFunction(t))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===toString.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)}function forEachArray(r,t,o){for(var n=0,a=r.length;n<a;n++)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}function forEachString(r,t,o){for(var n=0,a=r.length;n<a;n++)t.call(o,r.charAt(n),n,r)}function forEachObject(r,t,o){for(var n in r)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}var isFunction=require("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;

},{"is-function":37}],24:[function(require,module,exports){
module.exports=require("./lib-node");

},{"./lib-node":25}],25:[function(require,module,exports){
"use strict";var pubsub=require("nano-pubsub"),middlewareReducer=require("./util/middlewareReducer"),processOptions=require("./middleware/defaultOptionsProcessor"),validateOptions=require("./middleware/defaultOptionsValidator"),httpRequest=require("./request"),channelNames=["request","response","progress","error","abort"],middlehooks=["processOptions","validateOptions","interceptRequest","onRequest","onResponse","onError","onReturn","onHeaders"];module.exports=function e(){function r(e){function r(e,r,n){var s=e,i=r;if(!s)try{i=o("onResponse",r,n)}catch(e){i=null,s=e}s=s&&o("onError",s,n),s?t.error.publish(s):i&&t.response.publish(i)}var t=channelNames.reduce(function(e,r){return e[r]=pubsub(),e},{}),o=middlewareReducer(n),s=o("processOptions",e);o("validateOptions",s);var i={options:s,channels:t,applyMiddleware:o},u=null,a=t.request.subscribe(function(e){u=httpRequest(e,function(t,o){return r(t,o,e)})});t.abort.subscribe(function(){a(),u&&u.abort()});var d=o("onReturn",t,i);return d===t&&t.request.publish(i),d}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=[],n=middlehooks.reduce(function(e,r){return e[r]=e[r]||[],e},{processOptions:[processOptions],validateOptions:[validateOptions]});return r.use=function(e){if(!e)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof e)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(e.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return middlehooks.forEach(function(r){e[r]&&n[r].push(e[r])}),o.push(e),r},r.clone=function(){return e(o)},t.forEach(r.use),r};

},{"./middleware/defaultOptionsProcessor":26,"./middleware/defaultOptionsValidator":27,"./request":34,"./util/middlewareReducer":36,"nano-pubsub":42}],26:[function(require,module,exports){
"use strict";function stringifyQueryString(e){function t(e,n){Array.isArray(n)?n.forEach(function(r){return t(e,r)}):r.push([e,n].map(encodeURIComponent).join("="))}var r=[];for(var n in e)has.call(e,n)&&t(n,e[n]);return r.length?r.join("&"):""}function normalizeTimeout(e){if(!1===e||0===e)return!1;if(e.connect||e.socket)return e;var t=Number(e);return isNaN(t)?normalizeTimeout(defaultOptions.timeout):{connect:t,socket:t}}function removeUndefined(e){var t={};for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}var objectAssign=require("object-assign"),urlParse=require("url-parse"),isReactNative="undefined"!=typeof navigator&&"ReactNative"===navigator.product,has=Object.prototype.hasOwnProperty,defaultOptions={timeout:isReactNative?6e4:12e4};module.exports=function(e){var t="string"==typeof e?objectAssign({url:e},defaultOptions):objectAssign({},defaultOptions,e),r=urlParse(t.url,{},!0);return t.timeout=normalizeTimeout(t.timeout),t.query&&(r.query=objectAssign({},r.query,removeUndefined(t.query))),t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t.url=r.toString(stringifyQueryString),t};

},{"object-assign":43,"url-parse":50}],27:[function(require,module,exports){
"use strict";var validUrl=/^https?:\/\//i;module.exports=function(r){if(!validUrl.test(r.url))throw new Error('"'+r.url+'" is not a valid URL')};

},{}],28:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},objectAssign=require("object-assign"),isPlainObject=require("is-plain-object"),serializeTypes=["boolean","string","number"],isBuffer=function(o){return!!o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o)};module.exports=function(){return{processOptions:function(o){var e=o.body;return e?"function"==typeof e.pipe||isBuffer(e)||-1===serializeTypes.indexOf(void 0===e?"undefined":_typeof(e))&&!Array.isArray(e)&&!isPlainObject(e)?o:objectAssign({},o,{body:JSON.stringify(o.body),headers:objectAssign({},o.headers,{"Content-Type":"application/json"})}):o}}};

},{"is-plain-object":39,"object-assign":43}],29:[function(require,module,exports){
"use strict";function tryParse(e){try{return JSON.parse(e)}catch(e){throw e.message="Failed to parsed response body as JSON: "+e.message,e}}var objectAssign=require("object-assign");module.exports=function(){return{onResponse:function(e){var s=e.headers["content-type"];return e.body&&s&&-1!==s.indexOf("application/json")?objectAssign({},e,{body:tryParse(e.body)}):e},processOptions:function(e){return objectAssign({},e,{headers:objectAssign({Accept:"application/json"},e.headers)})}}};

},{"object-assign":43}],30:[function(require,module,exports){
"use strict";var global=require("../util/global"),objectAssign=require("object-assign");module.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.implementation||global.Observable;if(!r)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(e,n){return new r(function(r){return e.error.subscribe(function(e){return r.error(e)}),e.progress.subscribe(function(e){return r.next(objectAssign({type:"progress"},e))}),e.response.subscribe(function(e){r.next(objectAssign({type:"response"},e)),r.complete()}),e.request.publish(n),function(){return e.abort.publish()}})}}};
},{"../util/global":35,"object-assign":43}],31:[function(require,module,exports){
"use strict";module.exports=function(){return{onRequest:function(o){function e(o){return function(e){var t=e.lengthComputable?e.loaded/e.total*100:-1;n.channels.progress.publish({stage:o,percent:t,total:e.total,loaded:e.loaded,lengthComputable:e.lengthComputable})}}if("xhr"===o.adapter){var t=o.request,n=o.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=e("upload")),"onprogress"in t&&(t.onprogress=e("download"))}}}};

},{}],32:[function(require,module,exports){
"use strict";module.exports=require("./node-progress");
},{"./node-progress":31}],33:[function(require,module,exports){
"use strict";var sameOrigin=require("same-origin"),parseHeaders=require("parse-headers"),noop=function(){},win=window,XmlHttpRequest=win.XMLHttpRequest||noop,hasXhr2="withCredentials"in new XmlHttpRequest,XDomainRequest=hasXhr2?XmlHttpRequest:win.XDomainRequest,adapter="xhr";module.exports=function(e,t){function r(){q=!0,f&&f.abort()}function n(t){T=!0,f.abort();var r=new Error("ESOCKETTIMEDOUT"===t?"Socket timed out on request to "+c.url:"Connection timed out on request to "+c.url);r.code=t,e.channels.error.publish(r)}function o(){E&&(s(),d.socket=setTimeout(function(){return n("ESOCKETTIMEDOUT")},E.socket))}function s(){(q||f.readyState>=2&&d.connect)&&clearTimeout(d.connect),d.socket&&clearTimeout(d.socket)}function a(){if(!R){s(),R=!0,f=null;var e=new Error("Network error while attempting to reach "+c.url);e.isNetworkError=!0,e.request=c,t(e)}}function i(){var e=f.status,t=f.statusText;if(m&&void 0===e)e=200;else{if(e>12e3&&e<12156)return a();e=1223===f.status?204:f.status,t=1223===f.status?"No Content":t}return{body:f.response||f.responseText,url:c.url,method:c.method,headers:m?{}:parseHeaders(f.getAllResponseHeaders()),statusCode:e,statusMessage:t}}function u(){if(!(q||R||T)){if(0===f.status)return void a(new Error("Unknown XHR error"));s(),R=!0,t(null,i())}}var c=e.options,d={},l=win&&win.location&&!sameOrigin(win.location.href,c.url),p=e.applyMiddleware("interceptRequest",void 0,{adapter:adapter,context:e});if(p){var w=setTimeout(t,0,null,p);return{abort:function(){return clearTimeout(w)}}}var f=l?new XDomainRequest:new XmlHttpRequest,m=win.XDomainRequest&&f instanceof win.XDomainRequest,h=c.headers,q=!1,R=!1,T=!1;if(f.onerror=a,f.ontimeout=a,f.onabort=function(){q=!0},f.onprogress=function(){},f[m?"onload":"onreadystatechange"]=function(){o(),q||4!==f.readyState&&!m||0!==f.status&&u()},f.open(c.method,c.url,!0),f.withCredentials=!!c.withCredentials,h&&f.setRequestHeader)for(var X in h)h.hasOwnProperty(X)&&f.setRequestHeader(X,h[X]);else if(h&&m)throw new Error("Headers cannot be set on an XDomainRequest object");c.rawBody&&(f.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:c,adapter:adapter,request:f,context:e}),f.send(c.body||null);var E=c.timeout;return E&&(d.connect=setTimeout(function(){return n("ETIMEDOUT")},E.connect)),{abort:r}};
},{"parse-headers":44,"same-origin":47}],34:[function(require,module,exports){
"use strict";module.exports=require("./node-request");

},{"./node-request":33}],35:[function(require,module,exports){
(function (global){
"use strict";"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],36:[function(require,module,exports){
"use strict";module.exports=function(r){return function(n,t){for(var e=arguments.length,u=Array(e>2?e-2:0),o=2;o<e;o++)u[o-2]=arguments[o];return r[n].reduce(function(r,n){return n.apply(void 0,[r].concat(u))},t)}};

},{}],37:[function(require,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;
},{}],38:[function(require,module,exports){
"use strict";module.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)};

},{}],39:[function(require,module,exports){
"use strict";function isObjectObject(t){return!0===isObject(t)&&"[object Object]"===Object.prototype.toString.call(t)}var isObject=require("isobject");module.exports=function(t){var e,c;return!1!==isObjectObject(t)&&("function"==typeof(e=t.constructor)&&(c=e.prototype,!1!==isObjectObject(c)&&!1!==c.hasOwnProperty("isPrototypeOf")))};

},{"isobject":40}],40:[function(require,module,exports){
"use strict";module.exports=function(r){return null!=r&&"object"==typeof r&&!1===Array.isArray(r)};

},{}],41:[function(require,module,exports){
"use strict";function BaseError(r){void 0!==r&&defineProperty(this,"message",{configurable:!0,value:r,writable:!0});var e=this.constructor.name;void 0!==e&&e!==this.name&&defineProperty(this,"name",{configurable:!0,value:e,writable:!0}),captureStackTrace(this,this.constructor)}function makeError(r,e){if(null==e||e===Error)e=BaseError;else if("function"!=typeof e)throw new TypeError("super_ should be a function");var t;if("string"==typeof r)t=r,r=void 0!==construct?function(){return construct(e,arguments,r)}:function(){e.apply(this,arguments)},void 0!==setFunctionName&&(setFunctionName(r,t),t=void 0);else if("function"!=typeof r)throw new TypeError("constructor should be either a string or a function");r.super_=r.super=e;var o={constructor:{configurable:!0,value:r,writable:!0}};return void 0!==t&&(o.name={configurable:!0,value:t,writable:!0}),r.prototype=Object.create(e.prototype,o),r}var construct="undefined"!=typeof Reflect?Reflect.construct:void 0,defineProperty=Object.defineProperty,captureStackTrace=Error.captureStackTrace;void 0===captureStackTrace&&(captureStackTrace=function(r){var e=new Error;defineProperty(r,"stack",{configurable:!0,get:function(){var r=e.stack;return defineProperty(this,"stack",{value:r}),r},set:function(e){defineProperty(r,"stack",{configurable:!0,value:e,writable:!0})}})}),BaseError.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:BaseError,writable:!0}});var setFunctionName=function(){function r(r,e){return defineProperty(r,"name",{configurable:!0,value:e})}try{var e=function(){};if(r(e,"foo"),"foo"===e.name)return r}catch(r){}}();exports=module.exports=makeError,exports.BaseError=BaseError;
},{}],42:[function(require,module,exports){
module.exports=function(){function n(n){return r.push(n),function(){var u=r.indexOf(n);u>-1&&r.splice(u,1)}}function u(){for(var n=0;n<r.length;n++)r[n].apply(null,arguments)}var r=[];return{subscribe:n,publish:u}};
},{}],43:[function(require,module,exports){
"use strict";function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map(function(e){return r[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=shouldUseNative()?Object.assign:function(e,r){for(var t,n,o=toObject(e),a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);if(getOwnPropertySymbols){n=getOwnPropertySymbols(t);for(var c=0;c<n.length;c++)propIsEnumerable.call(t,n[c])&&(o[n[c]]=t[n[c]])}}return o};
},{}],44:[function(require,module,exports){
var trim=require("trim"),forEach=require("for-each"),isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};var t={};return forEach(trim(r).split("\n"),function(r){var i=r.indexOf(":"),e=trim(r.slice(0,i)).toLowerCase(),o=trim(r.slice(i+1));void 0===t[e]?t[e]=o:isArray(t[e])?t[e].push(o):t[e]=[t[e],o]}),t};
},{"for-each":23,"trim":49}],45:[function(require,module,exports){
"use strict";function decode(e){return decodeURIComponent(e.replace(/\+/g," "))}function querystring(e){for(var r,n=/([^=?&]+)=?([^&]*)/g,t={};r=n.exec(e);t[decode(r[1])]=decode(r[2]));return t}function querystringify(e,r){r=r||"";var n=[];"string"!=typeof r&&(r="?");for(var t in e)has.call(e,t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.length?r+n.join("&"):""}var has=Object.prototype.hasOwnProperty;exports.stringify=querystringify,exports.parse=querystring;

},{}],46:[function(require,module,exports){
"use strict";module.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e};

},{}],47:[function(require,module,exports){
"use strict";var url=require("url");module.exports=function(o,r,t){if(o===r)return!0;var p=url.parse(o,!1,!0),e=url.parse(r,!1,!0),s=0|p.port||("https"===p.protocol?443:80),u=0|e.port||("https"===e.protocol?443:80),l={proto:p.protocol===e.protocol,hostname:p.hostname===e.hostname,port:s===u};return l.proto&&l.hostname&&(l.port||t)};

},{"url":48}],48:[function(require,module,exports){
"use strict";var regex=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/;module.exports={regex:regex,parse:function(e){var o=regex.exec(e);return o?{protocol:(o[1]||"").toLowerCase()||void 0,hostname:(o[5]||"").toLowerCase()||void 0,port:o[6]||void 0}:{}}};
},{}],49:[function(require,module,exports){
function trim(r){return r.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(r){return r.replace(/^\s*/,"")},exports.right=function(r){return r.replace(/\s*$/,"")};

},{}],50:[function(require,module,exports){
(function (global){
"use strict";function lolcation(e){e=e||global.location||{};var o,t={},s=typeof e;if("blob:"===e.protocol)t=new URL(unescape(e.pathname),{});else if("string"===s){t=new URL(e,{});for(o in ignore)delete t[o]}else if("object"===s){for(o in e)o in ignore||(t[o]=e[o]);void 0===t.slashes&&(t.slashes=slashes.test(e.href))}return t}function extractProtocol(e){var o=protocolre.exec(e);return{protocol:o[1]?o[1].toLowerCase():"",slashes:!!o[2],rest:o[3]}}function resolve(e,o){for(var t=(o||"/").split("/").slice(0,-1).concat(e.split("/")),s=t.length,r=t[s-1],a=!1,n=0;s--;)"."===t[s]?t.splice(s,1):".."===t[s]?(t.splice(s,1),n++):n&&(0===s&&(a=!0),t.splice(s,1),n--);return a&&t.unshift(""),"."!==r&&".."!==r||t.push(""),t.join("/")}function URL(e,o,t){if(!(this instanceof URL))return new URL(e,o,t);var s,r,a,n,l,i,h=rules.slice(),c=typeof o,p=this,u=0;for("object"!==c&&"string"!==c&&(t=o,o=null),t&&"function"!=typeof t&&(t=qs.parse),o=lolcation(o),r=extractProtocol(e||""),s=!r.protocol&&!r.slashes,p.slashes=r.slashes||s&&o.slashes,p.protocol=r.protocol||o.protocol||"",e=r.rest,r.slashes||(h[2]=[/(.*)/,"pathname"]);u<h.length;u++)n=h[u],a=n[0],i=n[1],a!==a?p[i]=e:"string"==typeof a?~(l=e.indexOf(a))&&("number"==typeof n[2]?(p[i]=e.slice(0,l),e=e.slice(l+n[2])):(p[i]=e.slice(l),e=e.slice(0,l))):(l=a.exec(e))&&(p[i]=l[1],e=e.slice(0,l.index)),p[i]=p[i]||(s&&n[3]?o[i]||"":""),n[4]&&(p[i]=p[i].toLowerCase());t&&(p.query=t(p.query)),s&&o.slashes&&"/"!==p.pathname.charAt(0)&&(""!==p.pathname||""!==o.pathname)&&(p.pathname=resolve(p.pathname,o.pathname)),required(p.port,p.protocol)||(p.host=p.hostname,p.port=""),p.username=p.password="",p.auth&&(n=p.auth.split(":"),p.username=n[0]||"",p.password=n[1]||""),p.origin=p.protocol&&p.host&&"file:"!==p.protocol?p.protocol+"//"+p.host:"null",p.href=p.toString()}function set(e,o,t){var s=this;switch(e){case"query":"string"==typeof o&&o.length&&(o=(t||qs.parse)(o)),s[e]=o;break;case"port":s[e]=o,required(o,s.protocol)?o&&(s.host=s.hostname+":"+o):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=o,s.port&&(o+=":"+s.port),s.host=o;break;case"host":s[e]=o,/:\d+$/.test(o)?(o=o.split(":"),s.port=o.pop(),s.hostname=o.join(":")):(s.hostname=o,s.port="");break;case"protocol":s.protocol=o.toLowerCase(),s.slashes=!t;break;case"pathname":case"hash":if(o){var r="pathname"===e?"/":"#";s[e]=o.charAt(0)!==r?r+o:o}else s[e]=o;break;default:s[e]=o}for(var a=0;a<rules.length;a++){var n=rules[a];n[4]&&(s[n[1]]=s[n[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s}function toString(e){e&&"function"==typeof e||(e=qs.stringify);var o,t=this,s=t.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var r=s+(t.slashes?"//":"");return t.username&&(r+=t.username,t.password&&(r+=":"+t.password),r+="@"),r+=t.host+t.pathname,o="object"==typeof t.query?e(t.query):t.query,o&&(r+="?"!==o.charAt(0)?"?"+o:o),t.hash&&(r+=t.hash),r}var required=require("requires-port"),qs=require("querystringify"),protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,rules=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};URL.prototype={set:set,toString:toString},URL.extractProtocol=extractProtocol,URL.location=lolcation,URL.qs=qs,module.exports=URL;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"querystringify":45,"requires-port":46}],51:[function(require,module,exports){
var evs=require("eventsource-polyfill/dist/eventsource");module.exports=window.EventSource||evs.EventSource;
},{"eventsource-polyfill/dist/eventsource":52}],52:[function(require,module,exports){
!function(t){function e(t,e,i,r){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.data=e||null,this.origin=i||"",this.lastEventId=r||"",this.type=t||"message"}if(!t.EventSource||t._eventSourceImportPrefix){var i=(t._eventSourceImportPrefix||"")+"EventSource",r=function(t,e){if(!t||"string"!=typeof t)throw new SyntaxError("Not enough arguments");this.URL=t,this.setOptions(e);var i=this;setTimeout(function(){i.poll()},0)};if(r.prototype={CONNECTING:0,OPEN:1,CLOSED:2,defaultOptions:{loggingEnabled:!1,loggingPrefix:"eventsource",interval:500,bufferSizeLimit:262144,silentTimeout:3e5,getArgs:{evs_buffer_size_limit:262144},xhrHeaders:{Accept:"text/event-stream","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}},setOptions:function(t){var e,i=this.defaultOptions;for(e in i)i.hasOwnProperty(e)&&(this[e]=i[e]);for(e in t)e in i&&t.hasOwnProperty(e)&&(this[e]=t[e]);this.getArgs&&this.bufferSizeLimit&&(this.getArgs.evs_buffer_size_limit=this.bufferSizeLimit),"undefined"!=typeof console&&void 0!==console.log||(this.loggingEnabled=!1)},log:function(t){this.loggingEnabled&&console.log("["+this.loggingPrefix+"]:"+t)},poll:function(){try{if(this.readyState==this.CLOSED)return;this.cleanup(),this.readyState=this.CONNECTING,this.cursor=0,this.cache="",this._xhr=new this.XHR(this),this.resetNoActivityTimer()}catch(t){this.log("There were errors inside the pool try-catch"),this.dispatchEvent("error",{type:"error",data:t.message})}},pollAgain:function(t){var e=this;e.readyState=e.CONNECTING,e.dispatchEvent("error",{type:"error",data:"Reconnecting "}),this._pollTimer=setTimeout(function(){e.poll()},t||0)},cleanup:function(){this.log("evs cleaning up"),this._pollTimer&&(clearInterval(this._pollTimer),this._pollTimer=null),this._noActivityTimer&&(clearInterval(this._noActivityTimer),this._noActivityTimer=null),this._xhr&&(this._xhr.abort(),this._xhr=null)},resetNoActivityTimer:function(){if(this.silentTimeout){this._noActivityTimer&&clearInterval(this._noActivityTimer);var t=this;this._noActivityTimer=setTimeout(function(){t.log("Timeout! silentTImeout:"+t.silentTimeout),t.pollAgain()},this.silentTimeout)}},close:function(){this.readyState=this.CLOSED,this.log("Closing connection. readyState: "+this.readyState),this.cleanup()},ondata:function(){var t=this._xhr;if(t.isReady()&&!t.hasError()){this.resetNoActivityTimer(),this.readyState==this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent("open",{type:"open"}));var e=t.getBuffer();e.length>this.bufferSizeLimit&&(this.log("buffer.length > this.bufferSizeLimit"),this.pollAgain()),0==this.cursor&&e.length>0&&"\ufeff"==e.substring(0,1)&&(this.cursor=1);var i=this.lastMessageIndex(e);if(i[0]>=this.cursor){var r=i[1],s=e.substring(this.cursor,r);this.parseStream(s),this.cursor=r}t.isDone()&&(this.log("request.isDone(). reopening the connection"),this.pollAgain(this.interval))}else this.readyState!==this.CLOSED&&(this.log("this.readyState !== this.CLOSED"),this.pollAgain(this.interval))},parseStream:function(t){t=this.cache+this.normalizeToLF(t);var i,r,s,n,a,o,h=t.split("\n\n");for(i=0;i<h.length-1;i++){for(s="message",n=[],parts=h[i].split("\n"),r=0;r<parts.length;r++)a=this.trimWhiteSpace(parts[r]),0==a.indexOf("event")?s=a.replace(/event:?\s*/,""):0==a.indexOf("retry")?(o=parseInt(a.replace(/retry:?\s*/,"")),isNaN(o)||(this.interval=o)):0==a.indexOf("data")?n.push(a.replace(/data:?\s*/,"")):0==a.indexOf("id:")?this.lastEventId=a.replace(/id:?\s*/,""):0==a.indexOf("id")&&(this.lastEventId=null);if(n.length){var u=new e(s,n.join("\n"),window.location.origin,this.lastEventId);this.dispatchEvent(s,u)}}this.cache=h[h.length-1]},dispatchEvent:function(t,e){var i=this["_"+t+"Handlers"];if(i)for(var r=0;r<i.length;r++)i[r].call(this,e);this["on"+t]&&this["on"+t].call(this,e)},addEventListener:function(t,e){this["_"+t+"Handlers"]||(this["_"+t+"Handlers"]=[]),this["_"+t+"Handlers"].push(e)},removeEventListener:function(t,e){var i=this["_"+t+"Handlers"];if(i)for(var r=i.length-1;r>=0;--r)if(i[r]===e){i.splice(r,1);break}},_pollTimer:null,_noactivityTimer:null,_xhr:null,lastEventId:null,cache:"",cursor:0,onerror:null,onmessage:null,onopen:null,readyState:0,urlWithParams:function(t,e){var i=[];if(e){var r,s,n=encodeURIComponent;for(r in e)e.hasOwnProperty(r)&&(s=n(r)+"="+n(e[r]),i.push(s))}return i.length>0?-1==t.indexOf("?")?t+"?"+i.join("&"):t+"&"+i.join("&"):t},lastMessageIndex:function(t){var e=t.lastIndexOf("\n\n"),i=t.lastIndexOf("\r\r"),r=t.lastIndexOf("\r\n\r\n");return r>Math.max(e,i)?[r,r+4]:[Math.max(e,i),Math.max(e,i)+2]},trimWhiteSpace:function(t){var e=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;return t.replace(e,"")},normalizeToLF:function(t){return t.replace(/\r\n|\r/g,"\n")}},function(){return!(!window.XDomainRequest||!window.XMLHttpRequest||void 0!==(new XMLHttpRequest).responseType)}()){r.isPolyfill="IE_8-9";var s=r.prototype.defaultOptions;s.xhrHeaders=null,s.getArgs.evs_preamble=2056,r.prototype.XHR=function(t){request=new XDomainRequest,this._request=request,request.onprogress=function(){request._ready=!0,t.ondata()},request.onload=function(){this._loaded=!0,t.ondata()},request.onerror=function(){this._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"XDomainRequest error"})},request.ontimeout=function(){this._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"XDomainRequest timed out"})};var e={};if(t.getArgs){var i=t.getArgs;for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r]);t.lastEventId&&(e.evs_last_event_id=t.lastEventId)}request.open("GET",t.urlWithParams(t.URL,e)),request.send()},r.prototype.XHR.prototype={useXDomainRequest:!0,_request:null,_ready:!1,_loaded:!1,_failed:!1,isReady:function(){return this._request._ready},isDone:function(){return this._request._loaded},hasError:function(){return this._request._failed},getBuffer:function(){var t="";try{t=this._request.responseText||""}catch(t){}return t},abort:function(){this._request&&this._request.abort()}}}else r.isPolyfill="XHR",r.prototype.XHR=function(t){request=new XMLHttpRequest,this._request=request,t._xhr=this,request.onreadystatechange=function(){request.readyState>1&&t.readyState!=t.CLOSED&&(200==request.status||request.status>=300&&request.status<400?t.ondata():(request._failed=!0,t.readyState=t.CLOSED,t.dispatchEvent("error",{type:"error",data:"The server responded with "+request.status}),t.close()))},request.onprogress=function(){},request.open("GET",t.urlWithParams(t.URL,t.getArgs),!0);var e=t.xhrHeaders;for(var i in e)e.hasOwnProperty(i)&&request.setRequestHeader(i,e[i]);t.lastEventId&&request.setRequestHeader("Last-Event-Id",t.lastEventId),request.send()},r.prototype.XHR.prototype={useXDomainRequest:!1,_request:null,_failed:!1,isReady:function(){return this._request.readyState>=2},isDone:function(){return 4==this._request.readyState},hasError:function(){return this._failed||this._request.status>=400},getBuffer:function(){var t="";try{t=this._request.responseText||""}catch(t){}return t},abort:function(){this._request&&this._request.abort()}};t[i]=r}}(this);
},{}],53:[function(require,module,exports){
var baseUrl="https://docs.sanity.io/help/";module.exports=function(e){return baseUrl+e};

},{}],54:[function(require,module,exports){
"use strict";function SanityObservableMinimal(){Observable.apply(this,arguments)}var _require=require("rxjs/Observable"),Observable=_require.Observable,_require2=require("rxjs/operator/map"),map=_require2.map,_require3=require("rxjs/operator/filter"),filter=_require3.filter,_require4=require("rxjs/operator/reduce"),reduce=_require4.reduce,_require5=require("rxjs/operator/toPromise"),toPromise=_require5.toPromise,assign=require("object-assign");SanityObservableMinimal.prototype=Object.create(assign(Object.create(null),Observable.prototype)),Object.defineProperty(SanityObservableMinimal.prototype,"constructor",{value:SanityObservableMinimal,enumerable:!1,writable:!0,configurable:!0}),SanityObservableMinimal.prototype.lift=function(e){var r=new SanityObservableMinimal;return r.source=this,r.operator=e,r},SanityObservableMinimal.prototype.map=map,SanityObservableMinimal.prototype.filter=filter,SanityObservableMinimal.prototype.reduce=reduce,SanityObservableMinimal.prototype.toPromise=toPromise,module.exports=SanityObservableMinimal;
},{"object-assign":56,"rxjs/Observable":57,"rxjs/operator/filter":62,"rxjs/operator/map":63,"rxjs/operator/reduce":64,"rxjs/operator/toPromise":65}],55:[function(require,module,exports){
module.exports=require("./lib/SanityObservableMinimal");

},{"./lib/SanityObservableMinimal":54}],56:[function(require,module,exports){
arguments[4][43][0].apply(exports,arguments)
},{"dup":43}],57:[function(require,module,exports){
"use strict";var root_1=require("./util/root"),toSubscriber_1=require("./util/toSubscriber"),observable_1=require("./symbol/observable"),pipe_1=require("./util/pipe"),Observable=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(o){var t=new r;return t.source=this,t.operator=o,t},r.prototype.subscribe=function(r,o,t){var e=this.operator,i=toSubscriber_1.toSubscriber(r,o,t);if(e?e.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(o){r.syncErrorThrown=!0,r.syncErrorValue=o,r.error(o)}},r.prototype.forEach=function(r,o){var t=this;if(o||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?o=root_1.root.Rx.config.Promise:root_1.root.Promise&&(o=root_1.root.Promise)),!o)throw new Error("no Promise impl found");return new o(function(o,e){var i;i=t.subscribe(function(o){if(i)try{r(o)}catch(r){e(r),i.unsubscribe()}else r(o)},e,o)})},r.prototype._subscribe=function(r){return this.source.subscribe(r)},r.prototype[observable_1.observable]=function(){return this},r.prototype.pipe=function(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];return 0===r.length?this:pipe_1.pipeFromArray(r)(this)},r.prototype.toPromise=function(r){var o=this;if(r||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?r=root_1.root.Rx.config.Promise:root_1.root.Promise&&(r=root_1.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(r,t){var e;o.subscribe(function(r){return e=r},function(r){return t(r)},function(){return r(e)})})},r.create=function(o){return new r(o)},r}();exports.Observable=Observable;

},{"./symbol/observable":72,"./util/pipe":81,"./util/root":82,"./util/toSubscriber":83}],58:[function(require,module,exports){
"use strict";exports.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}};

},{}],59:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,r){function s(){this.constructor=t}for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)},isFunction_1=require("./util/isFunction"),Subscription_1=require("./Subscription"),Observer_1=require("./Observer"),rxSubscriber_1=require("./symbol/rxSubscriber"),Subscriber=function(t){function r(s,e,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!s){this.destination=Observer_1.empty;break}if("object"==typeof s){s instanceof r?(this.syncErrorThrowable=s.syncErrorThrowable,this.destination=s,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,s));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,s,e,i)}}return __extends(r,t),r.prototype[rxSubscriber_1.rxSubscriber]=function(){return this},r.create=function(t,s,e){var i=new r(t,s,e);return i.syncErrorThrowable=!1,i},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this,r=t._parent,s=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=r,this._parents=s,this},r}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(t){function r(r,s,e,i){t.call(this),this._parentSubscriber=r;var n,o=this;isFunction_1.isFunction(s)?n=s:s&&(n=s.next,e=s.error,i=s.complete,s!==Observer_1.empty&&(o=Object.create(s),isFunction_1.isFunction(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=n,this._error=e,this._complete=i}return __extends(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),t;r.syncErrorValue=t,r.syncErrorThrown=!0,this.unsubscribe()}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var s=function(){return t._complete.call(t._context)};r.syncErrorThrowable?(this.__tryOrSetError(r,s),this.unsubscribe()):(this.__tryOrUnsub(s),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){throw this.unsubscribe(),t}},r.prototype.__tryOrSetError=function(t,r,s){try{r.call(this._context,s)}catch(r){return t.syncErrorValue=r,t.syncErrorThrown=!0,!0}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(Subscriber);
},{"./Observer":58,"./Subscription":60,"./symbol/rxSubscriber":73,"./util/isFunction":78}],60:[function(require,module,exports){
"use strict";function flattenUnsubscriptionErrors(r){return r.reduce(function(r,t){return r.concat(t instanceof UnsubscriptionError_1.UnsubscriptionError?t.errors:t)},[])}var isArray_1=require("./util/isArray"),isObject_1=require("./util/isObject"),isFunction_1=require("./util/isFunction"),tryCatch_1=require("./util/tryCatch"),errorObject_1=require("./util/errorObject"),UnsubscriptionError_1=require("./util/UnsubscriptionError"),Subscription=function(){function r(r){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}return r.prototype.unsubscribe=function(){var r,t=!1;if(!this.closed){var i=this,s=i._parent,n=i._parents,e=i._unsubscribe,o=i._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c=-1,u=n?n.length:0;s;)s.remove(this),s=++c<u&&n[c]||null;if(isFunction_1.isFunction(e)){var a=tryCatch_1.tryCatch(e).call(this);a===errorObject_1.errorObject&&(t=!0,r=r||(errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors):[errorObject_1.errorObject.e]))}if(isArray_1.isArray(o))for(c=-1,u=o.length;++c<u;){var b=o[c];if(isObject_1.isObject(b)){var a=tryCatch_1.tryCatch(b.unsubscribe).call(b);if(a===errorObject_1.errorObject){t=!0,r=r||[];var p=errorObject_1.errorObject.e;p instanceof UnsubscriptionError_1.UnsubscriptionError?r=r.concat(flattenUnsubscriptionErrors(p.errors)):r.push(p)}}}if(t)throw new UnsubscriptionError_1.UnsubscriptionError(r)}},r.prototype.add=function(t){if(!t||t===r.EMPTY)return r.EMPTY;if(t===this)return this;var i=t;switch(typeof t){case"function":i=new r(t);case"object":if(i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if("function"!=typeof i._addParent){var s=i;i=new r,i._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(i),i._addParent(this),i},r.prototype.remove=function(r){var t=this._subscriptions;if(t){var i=t.indexOf(r);-1!==i&&t.splice(i,1)}},r.prototype._addParent=function(r){var t=this,i=t._parent,s=t._parents;i&&i!==r?s?-1===s.indexOf(r)&&s.push(r):this._parents=[r]:this._parent=r},r.EMPTY=function(r){return r.closed=!0,r}(new r),r}();exports.Subscription=Subscription;
},{"./util/UnsubscriptionError":75,"./util/errorObject":76,"./util/isArray":77,"./util/isFunction":78,"./util/isObject":79,"./util/tryCatch":84}],61:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},Observable_1=require("../Observable"),EmptyObservable=function(e){function t(t){e.call(this),this.scheduler=t}return __extends(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(Observable_1.Observable);exports.EmptyObservable=EmptyObservable;

},{"../Observable":57}],62:[function(require,module,exports){
"use strict";function filter(r,t){return filter_1.filter(r,t)(this)}var filter_1=require("../operators/filter");exports.filter=filter;

},{"../operators/filter":67}],63:[function(require,module,exports){
"use strict";function map(a,p){return map_1.map(a,p)(this)}var map_1=require("../operators/map");exports.map=map;
},{"../operators/map":68}],64:[function(require,module,exports){
"use strict";function reduce(e,r){return arguments.length>=2?reduce_1.reduce(e,r)(this):reduce_1.reduce(e)(this)}var reduce_1=require("../operators/reduce");exports.reduce=reduce;

},{"../operators/reduce":69}],65:[function(require,module,exports){
"use strict";var Observable_1=require("../Observable");exports.toPromise=Observable_1.Observable.prototype.toPromise;

},{"../Observable":57}],66:[function(require,module,exports){
"use strict";function defaultIfEmpty(t){return void 0===t&&(t=null),function(e){return e.lift(new DefaultIfEmptyOperator(t))}}var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Subscriber_1=require("../Subscriber");exports.defaultIfEmpty=defaultIfEmpty;var DefaultIfEmptyOperator=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new DefaultIfEmptySubscriber(t,this.defaultValue))},t}(),DefaultIfEmptySubscriber=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return __extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Subscriber_1.Subscriber);

},{"../Subscriber":59}],67:[function(require,module,exports){
"use strict";function filter(t,r){return function(e){return e.lift(new FilterOperator(t,r))}}var __extends=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},Subscriber_1=require("../Subscriber");exports.filter=filter;var FilterOperator=function(){function t(t,r){this.predicate=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new FilterSubscriber(t,this.predicate,this.thisArg))},t}(),FilterSubscriber=function(t){function r(r,e,i){t.call(this,r),this.predicate=e,this.thisArg=i,this.count=0}return __extends(r,t),r.prototype._next=function(t){var r;try{r=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}r&&this.destination.next(t)},r}(Subscriber_1.Subscriber);

},{"../Subscriber":59}],68:[function(require,module,exports){
"use strict";function map(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new MapOperator(t,r))}}var __extends=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},Subscriber_1=require("../Subscriber");exports.map=map;var MapOperator=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new MapSubscriber(t,this.project,this.thisArg))},t}();exports.MapOperator=MapOperator;var MapSubscriber=function(t){function r(r,e,i){t.call(this,r),this.project=e,this.count=0,this.thisArg=i||this}return __extends(r,t),r.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(r)},r}(Subscriber_1.Subscriber);
},{"../Subscriber":59}],69:[function(require,module,exports){
"use strict";function reduce(e,t){return arguments.length>=2?function(a){return pipe_1.pipe(scan_1.scan(e,t),takeLast_1.takeLast(1),defaultIfEmpty_1.defaultIfEmpty(t))(a)}:function(t){return pipe_1.pipe(scan_1.scan(function(t,a,r){return e(t,a,r+1)}),takeLast_1.takeLast(1))(t)}}var scan_1=require("./scan"),takeLast_1=require("./takeLast"),defaultIfEmpty_1=require("./defaultIfEmpty"),pipe_1=require("../util/pipe");exports.reduce=reduce;

},{"../util/pipe":81,"./defaultIfEmpty":66,"./scan":70,"./takeLast":71}],70:[function(require,module,exports){
"use strict";function scan(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new ScanOperator(t,e,r))}}var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber");exports.scan=scan;var ScanOperator=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new ScanSubscriber(t,this.accumulator,this.seed,this.hasSeed))},t}(),ScanSubscriber=function(t){function e(e,r,n,s){t.call(this,e),this.accumulator=r,this._seed=n,this.hasSeed=s,this.index=0}return __extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(Subscriber_1.Subscriber);
},{"../Subscriber":59}],71:[function(require,module,exports){
"use strict";function takeLast(t){return function(r){return 0===t?new EmptyObservable_1.EmptyObservable:r.lift(new TakeLastOperator(t))}}var __extends=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},Subscriber_1=require("../Subscriber"),ArgumentOutOfRangeError_1=require("../util/ArgumentOutOfRangeError"),EmptyObservable_1=require("../observable/EmptyObservable");exports.takeLast=takeLast;var TakeLastOperator=function(){function t(t){if(this.total=t,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return t.prototype.call=function(t,r){return r.subscribe(new TakeLastSubscriber(t,this.total))},t}(),TakeLastSubscriber=function(t){function r(r,e){t.call(this,r),this.total=e,this.ring=new Array,this.count=0}return __extends(r,t),r.prototype._next=function(t){var r=this.ring,e=this.total,n=this.count++;if(r.length<e)r.push(t);else{r[n%e]=t}},r.prototype._complete=function(){var t=this.destination,r=this.count;if(r>0)for(var e=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<e;i++){var o=r++%e;t.next(n[o])}t.complete()},r}(Subscriber_1.Subscriber);

},{"../Subscriber":59,"../observable/EmptyObservable":61,"../util/ArgumentOutOfRangeError":74}],72:[function(require,module,exports){
"use strict";function getSymbolObservable(e){var b,o=e.Symbol;return"function"==typeof o?o.observable?b=o.observable:(b=o("observable"),o.observable=b):b="@@observable",b}var root_1=require("../util/root");exports.getSymbolObservable=getSymbolObservable,exports.observable=getSymbolObservable(root_1.root),exports.$$observable=exports.observable;

},{"../util/root":82}],73:[function(require,module,exports){
"use strict";var root_1=require("../util/root"),Symbol=root_1.root.Symbol;exports.rxSubscriber="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",exports.$$rxSubscriber=exports.rxSubscriber;

},{"../util/root":82}],74:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},ArgumentOutOfRangeError=function(t){function r(){var r=t.call(this,"argument out of range");this.name=r.name="ArgumentOutOfRangeError",this.stack=r.stack,this.message=r.message}return __extends(r,t),r}(Error);exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError;

},{}],75:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(r,t){function n(){this.constructor=r}for(var s in t)t.hasOwnProperty(s)&&(r[s]=t[s]);r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},UnsubscriptionError=function(r){function t(t){r.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(r,t){return t+1+") "+r.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return __extends(t,r),t}(Error);exports.UnsubscriptionError=UnsubscriptionError;

},{}],76:[function(require,module,exports){
"use strict";exports.errorObject={e:{}};

},{}],77:[function(require,module,exports){
"use strict";exports.isArray=Array.isArray||function(r){return r&&"number"==typeof r.length};
},{}],78:[function(require,module,exports){
"use strict";function isFunction(n){return"function"==typeof n}exports.isFunction=isFunction;
},{}],79:[function(require,module,exports){
"use strict";function isObject(t){return null!=t&&"object"==typeof t}exports.isObject=isObject;

},{}],80:[function(require,module,exports){
"use strict";function noop(){}exports.noop=noop;

},{}],81:[function(require,module,exports){
"use strict";function pipe(){for(var r=[],e=0;e<arguments.length;e++)r[e-0]=arguments[e];return pipeFromArray(r)}function pipeFromArray(r){return r?1===r.length?r[0]:function(e){return r.reduce(function(r,e){return e(r)},e)}:noop_1.noop}var noop_1=require("./noop");exports.pipe=pipe,exports.pipeFromArray=pipeFromArray;

},{"./noop":80}],82:[function(require,module,exports){
(function (global){
"use strict";var __window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global="undefined"!=typeof global&&global,_root=__window||__global||__self;exports.root=_root,function(){if(!_root)throw new Error("RxJS could not find any global context (window, self, global)")}();

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],83:[function(require,module,exports){
"use strict";function toSubscriber(r,b,e){if(r){if(r instanceof Subscriber_1.Subscriber)return r;if(r[rxSubscriber_1.rxSubscriber])return r[rxSubscriber_1.rxSubscriber]()}return r||b||e?new Subscriber_1.Subscriber(r,b,e):new Subscriber_1.Subscriber(Observer_1.empty)}var Subscriber_1=require("../Subscriber"),rxSubscriber_1=require("../symbol/rxSubscriber"),Observer_1=require("../Observer");exports.toSubscriber=toSubscriber;

},{"../Observer":58,"../Subscriber":59,"../symbol/rxSubscriber":73}],84:[function(require,module,exports){
"use strict";function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(r){return errorObject_1.errorObject.e=r,errorObject_1.errorObject}}function tryCatch(r){return tryCatchTarget=r,tryCatcher}var errorObject_1=require("./errorObject"),tryCatchTarget;exports.tryCatch=tryCatch;

},{"./errorObject":76}]},{},[16])(16)
});